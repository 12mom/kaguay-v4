// ===================================================================
// 🍓 ملف الأمر: help.js
// 📌 الوظيفة: عرض قائمة أوامر بوت snfor بشكل مرتب وجميل
// 🛠️ المطور: حمودي سان 🇸🇩
// 📅 التاريخ: أغسطس 2025
// 📁 المسار: commands/help.js
// 💬 الغرض: إظهار جميع الأوامر + معلومات المطور + رسالة حب
// ===================================================================

// تصدير بيانات الأمر الأساسية
// (يستخدمها نظام الأوامر لتحميل الكود)
export default {
  name: "مساعدة",
  version: "1.5",
  hasPermission: "users",
  credits: "حمودي سان 🇸🇩",
  description: "عرض قائمة كاملة بالأوامر مرتبة حسب الفئة",
  commandCategory: "نظام",
  usages: "!اوامر",
  cooldowns: 5,
};

// ===================================================================
// وظيفة تشغيل الأمر (run)
// -------------------------------------------------------------------
// الوصف: تُنفَّذ عندما يكتب المستخدم "!اوامر"
// المدخلات:
//   - api: واجهة فيسبوك (لإرسال الرسائل)
//   - event: بيانات الرسالة (مثل المرسل، المجموعة، إلخ)
//   - client: بيانات البوت (إن وُجدت)
// ===================================================================

export const run = async ({ api, event, client }) => {
  // البيانات الثابتة
  const botName = "snfor";
  const developer = "حمودي سان 🇸🇩";
  const facebook = "fb.com/babasnfor80";
  const prefix = "!";
  const totalCommands = 12; // عدد الأوامر (يمكن تحديثه تلقائيًا لاحقًا)

  // تصنيف الأوامر حسب نوعها
  // (سهل التعديل والإضافة)
  const categories = {
    // فئة: تسلية ودراما
    "🎮 تسلية": [
      "اخترق",
      "حب",
      "حظ",
      "تحدي",
      "دراما",
      "ميمز"
    ],

    // فئة: تفاعل ونقاط
    "📈 تفاعل": [
      "مستواي",
      "الترتيب",
      "هدية",
      "رد",
      "إيموجي"
    ],

    // فئة: معلومات ونظام
    "🛠️ مطور": [
      "مطور",
      "مساعدة"
    ]
  };

  // بناء رسالة المساعدة
  // (نبدأ برسالة ترحيبية جميلة)
  let helpMessage = `
🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓
     🌟 *قائمة أوامر بوت ${botName}* 🌟
🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓

`;

  // إضافة كل فئة من الأوامر
  Object.keys(categories).forEach(category => {
    helpMessage += `\n${category}\n`;
    categories[category].forEach(cmd => {
      helpMessage += `  🔹 ${prefix}${cmd}\n`;
    });
  });

  // إضافة معلومات المطور والختام
  helpMessage += `

🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓
👑 *المطور*: ${developer}
💬 *أحبكم يا سنافري ❤️*
📱 *فيسبوك*: ${facebook}
📌 *البوت شغال 24 ساعة | طوّره حمودي سان*
🔔 *تم استخدام ${totalCommands} أوامر بنجاح!*
🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓🍓
  `;

  // إرسال الرسالة إلى المجموعة
  // (مع الرد على الرسالة الأصلية)
  api.sendMessage(helpMessage, event.threadID, event.messageID)
    .catch(err => {
      console.error("[ خطأ ]: تعذر إرسال رسالة الأوامر:", err);
      api.sendMessage("❌ تعذر عرض الأوامر. حاول لاحقًا.", event.threadID);
    });
};

// ===================================================================
// ✅ ملاحظات:
// - يمكن إضافة المزيد من الفئات أو الأوامر بسهولة.
// - يمكن تحويل القائمة إلى نظام صفحات لو زادت الأوامر.
// - يمكن إضافة صورة أو رد صوتي لاحقًا.
// ===================================================================
